import{d as w,r as d,f as y,g as N,o as b,e as h,h as r,a as o,u as i,l as p,w as f,b as j,n as U,B as S,F as $,i as J,j as F,t as E}from"./index-f476f9eb.js";import{u as C,i as k,a as P,b as A,c as B,d as O,e as z,f as T,g as L,h as M,j as q,k as G}from"./installCanvasRenderer-f2f3da27.js";const H=r("h2",{class:"text-xl font-bold"},"同一城市不同岗位对比",-1),I={class:"flex mb-4"},K=w({__name:"same-city-diff-jobs",props:{job:{},jobs:{},city:{},cities:{},data:{}},setup(_){const a=_;C([k,P,A,B,O,z]);const l=d([]),u=d([]),v=y(()=>a.jobs.filter(e=>e!==a.job).map(e=>({value:e,label:e}))),m=async()=>{a.city!==void 0&&a.job!==void 0?u.value=await Promise.all(l.value.map(e=>T({city:a.city,jobName:e}))):window.$message.warning("未选择职位和城市")},n=y(()=>{const e=a.job?[a.job,...l.value]:[],s=a.data?[a.data,...u.value]:[];return{xAxis:{},yAxis:{type:"category",data:e,axisPointer:{type:"shadow",value:a.city,show:!0,handle:{show:!0,size:20}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},series:[{type:"bar",name:"最少薪资",data:s.map(t=>t.minSalary)},{type:"bar",name:"平均薪资",data:s.map(t=>t.avgSalary)},{type:"bar",name:"最多薪资",data:s.map(t=>t.maxSalary)},{type:"bar",name:"岗位数量",data:s.map(t=>t.jobNum)}]}});return N(()=>{m()}),(e,s)=>(b(),h($,null,[H,r("div",I,[o(i(p.NSelect),{value:l.value,"onUpdate:value":s[0]||(s[0]=t=>l.value=t),options:v.value,class:"w-96 m-2",placeholder:"对比岗位",multiple:""},null,8,["value","options"]),o(i(p.NButton),{class:"inline m-2",onClick:m},{default:f(()=>[j("确认")]),_:1})]),o(i(S),{option:n.value,style:U(`height: ${l.value.length*3+18}rem`),autoresize:""},null,8,["option","style"])],64))}}),Q=r("h2",{class:"text-xl font-bold"},"相同职位不同城市对比",-1),R={class:"flex mb-4"},W=w({__name:"same-job-diff-cities",props:{job:{},jobs:{},city:{},cities:{},data:{}},setup(_){const a=_;C([k,P,A,B,O,z]);const l=d([]),u=d([]),v=y(()=>a.cities.filter(e=>e!==a.city).map(e=>({value:e,label:e}))),m=async()=>{a.city!==void 0&&a.job!==void 0?u.value=await Promise.all([L({jobName:a.job})].concat(l.value.map(e=>T({jobName:a.job,city:e})))):window.$message.warning("未选择职位和城市")},n=y(()=>{const e=a.city?[a.city,"全国",...l.value]:[],s=a.data?[a.data,...u.value]:[];return{xAxis:{},yAxis:{type:"category",data:e,axisPointer:{type:"shadow",value:a.city,show:!0,handle:{show:!0,size:20}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},series:[{type:"bar",name:"最少薪资",data:s.map(t=>t.minSalary)},{type:"bar",name:"平均薪资",data:s.map(t=>t.avgSalary)},{type:"bar",name:"最多薪资",data:s.map(t=>t.maxSalary)},{type:"bar",name:"岗位数量",data:s.map(t=>t.jobNum)}]}});return N(()=>{m()}),(e,s)=>(b(),h($,null,[Q,r("div",R,[o(i(p.NSelect),{value:l.value,"onUpdate:value":s[0]||(s[0]=t=>l.value=t),options:v.value,class:"w-96 m-2",placeholder:"对比城市",multiple:""},null,8,["value","options"]),o(i(p.NButton),{class:"inline m-2",onClick:m},{default:f(()=>[j("确认")]),_:1})]),o(i(S),{option:n.value,style:U(`height: ${l.value.length*3+18}rem`),autoresize:""},null,8,["option","style"])],64))}}),X={class:"w-full h-full flex flex-col"},Y=r("h2",{class:"text-2xl font-bold"},"职位行情",-1),Z=r("span",{class:"text-lg pb-1"},"筛选",-1),aa={class:"flex"},ea={key:0,class:"p-2"},ta=r("h2",{class:"text-xl font-bold"},"比较",-1),sa=r("h2",{class:"text-2xl font-bold"},"相关企业",-1),la=["href"],ia=w({__name:"job-market-view",setup(_){C([k,P,A,B,O,z]);const a=d(),l=d([]),u=d(),v=d([]),m=d([]),n=d();N(()=>{M().then(c=>v.value=c),q().then(c=>l.value=c),G().then(c=>m.value=c)});const e=async()=>{a.value!==void 0&&u.value!==void 0?n.value=await T({city:u.value,jobName:a.value}):window.$message.warning("请选择职位和城市!")},s=y(()=>l.value.map(c=>({label:c,value:c}))),t=y(()=>v.value.map(c=>({label:c,value:c}))),V=y(()=>({xAxis:{},yAxis:{type:"category",data:["最少薪资","平均薪资","最多薪资","岗位数量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},series:[{type:"bar",data:n.value?[n.value.minSalary,n.value.avgSalary,n.value.maxSalary,n.value.jobNum]:[],colorBy:"data"}]}));return(c,g)=>(b(),h("div",X,[Y,Z,r("div",aa,[o(i(p.NSelect),{value:a.value,"onUpdate:value":g[0]||(g[0]=x=>a.value=x),options:s.value,class:"inline w-24 p-2",placeholder:"职位"},null,8,["value","options"]),o(i(p.NSelect),{value:u.value,"onUpdate:value":g[1]||(g[1]=x=>u.value=x),options:t.value,class:"inline w-24 p-2",placeholder:"城市"},null,8,["value","options"]),o(i(p.NButton),{class:"inline m-2",onClick:e},{default:f(()=>[j("确认")]),_:1})]),n.value!==void 0?(b(),h("div",ea,[o(i(S),{option:V.value,style:{height:"16rem"},autoresize:""},null,8,["option"])])):J("",!0),ta,o(i(p.NTabs),{"default-value":""},{default:f(()=>[o(i(p.NTabPane),{name:"相同职位不同城市"},{default:f(()=>[o(W,{job:a.value,jobs:l.value,city:u.value,cities:v.value,data:n.value},null,8,["job","jobs","city","cities","data"])]),_:1}),o(i(p.NTabPane),{name:"相同城市不同职位"},{default:f(()=>[o(K,{job:a.value,jobs:l.value,city:u.value,cities:v.value,data:n.value},null,8,["job","jobs","city","cities","data"])]),_:1})]),_:1}),sa,r("div",null,[(b(!0),h($,null,F(m.value,({name:x,url:D})=>(b(),h("span",null,[r("a",{class:"text-slate-800 hover:text-sky-900 underline",href:D},E(x),9,la),j("， ")]))),256))])]))}});export{ia as default};
