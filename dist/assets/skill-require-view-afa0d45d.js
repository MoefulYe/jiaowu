import{P as We,k as I,D as Ce,m as Ie,p as $e,q as Ke,S as Pe,s as Ne,v as pe,x as Qe,y as et,z as be,A as E,C as ne,E as Ue,G as Se,Z as tt,H as U,I as me,J as _e,K as at,L as rt,M as nt,N as it,O as lt,Q as st,R as je,T as ot,U as vt,V as Oe,W as ze,X as ut,Y as ct,$ as gt,a0 as ft,a1 as ht,a2 as dt,d as pt,r as $,a3 as Ve,f as q,g as mt,e as yt,h as ve,a as W,u as K,w as ke,a4 as bt,a5 as St,o as xt,l as ie,b as At,B as wt,_ as Dt}from"./index-f476f9eb.js";import{s as Lt,l as le,p as Mt,S as Tt,u as Ct,h as It,j as Pt,c as Nt,e as _t,d as Ot,b as Vt,i as kt,a as Et,m as Ee,n as Rt}from"./installCanvasRenderer-f2f3da27.js";We.CMD;function Ye(t,a,r,e,n,l,i,s){var g=n-t,f=l-a,v=r-t,h=e-a,p=Math.sqrt(v*v+h*h);v/=p,h/=p;var u=g*v+f*h,c=u/p;s&&(c=Math.min(Math.max(c,0),1)),c*=p;var d=i[0]=t+c*v,o=i[1]=a+c*h;return Math.sqrt((d-n)*(d-n)+(o-l)*(o-l))}var R=new I,w=new I,C=new I,G=new I,k=new I,oe=[],N=new I;function Gt(t,a){if(a<=180&&a>0){a=a/180*Math.PI,R.fromArray(t[0]),w.fromArray(t[1]),C.fromArray(t[2]),I.sub(G,R,w),I.sub(k,C,w);var r=G.len(),e=k.len();if(!(r<.001||e<.001)){G.scale(1/r),k.scale(1/e);var n=G.dot(k),l=Math.cos(a);if(l<n){var i=Ye(w.x,w.y,C.x,C.y,R.x,R.y,oe,!1);N.fromArray(oe),N.scaleAndAdd(k,i/Math.tan(Math.PI-a));var s=C.x!==w.x?(N.x-w.x)/(C.x-w.x):(N.y-w.y)/(C.y-w.y);if(isNaN(s))return;s<0?I.copy(N,w):s>1&&I.copy(N,C),N.toArray(t[1])}}}}function Bt(t,a,r){if(r<=180&&r>0){r=r/180*Math.PI,R.fromArray(t[0]),w.fromArray(t[1]),C.fromArray(t[2]),I.sub(G,w,R),I.sub(k,C,w);var e=G.len(),n=k.len();if(!(e<.001||n<.001)){G.scale(1/e),k.scale(1/n);var l=G.dot(a),i=Math.cos(r);if(l<i){var s=Ye(w.x,w.y,C.x,C.y,R.x,R.y,oe,!1);N.fromArray(oe);var g=Math.PI/2,f=Math.acos(k.dot(a)),v=g+f-r;if(v>=g)I.copy(N,C);else{N.scaleAndAdd(k,s/Math.tan(Math.PI/2-v));var h=C.x!==w.x?(N.x-w.x)/(C.x-w.x):(N.y-w.y)/(C.y-w.y);if(isNaN(h))return;h<0?I.copy(N,w):h>1&&I.copy(N,C)}N.toArray(t[1])}}}}function Re(t,a,r,e){var n=r==="normal",l=n?t:t.ensureState(r);l.ignore=a;var i=e.get("smooth");i&&i===!0&&(i=.3),l.shape=l.shape||{},i>0&&(l.shape.smooth=i);var s=e.getModel("lineStyle").getLineStyle();n?t.useStyle(s):l.style=s}function $t(t,a){var r=a.smooth,e=a.points;if(e)if(t.moveTo(e[0][0],e[0][1]),r>0&&e.length>=3){var n=Ne(e[0],e[1]),l=Ne(e[1],e[2]);if(!n||!l){t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]);return}var i=Math.min(n,l)*r,s=pe([],e[1],e[0],i/n),g=pe([],e[1],e[2],i/l),f=pe([],s,g,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],f[0],f[1]),t.bezierCurveTo(g[0],g[1],g[0],g[1],e[2][0],e[2][1])}else for(var v=1;v<e.length;v++)t.lineTo(e[v][0],e[v][1])}function Ut(t,a,r){var e=t.getTextGuideLine(),n=t.getTextContent();if(!n){e&&t.removeTextGuideLine();return}for(var l=a.normal,i=l.get("show"),s=n.ignore,g=0;g<Ce.length;g++){var f=Ce[g],v=a[f],h=f==="normal";if(v){var p=v.get("show"),u=h?s:Ie(n.states[f]&&n.states[f].ignore,s);if(u||!Ie(p,i)){var c=h?e:e&&e.states[f];c&&(c.ignore=!0);continue}e||(e=new $e,t.setTextGuideLine(e),!h&&(s||!i)&&Re(e,!0,"normal",a.normal),t.stateProxy&&(e.stateProxy=t.stateProxy)),Re(e,!1,f,v)}}if(e){Ke(e.style,r),e.style.fill=null;var d=l.get("showAbove"),o=t.textGuideLineConfig=t.textGuideLineConfig||{};o.showAbove=d||!1,e.buildPath=$t}}function jt(t,a){a=a||"labelLine";for(var r={normal:t.getModel(a)},e=0;e<Pe.length;e++){var n=Pe[e];r[n]=t.getModel([n,a])}return r}var se=Math.PI*2,Ge=Math.PI/180;function qe(t,a){return et(t.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function Xe(t,a){var r=qe(t,a),e=t.get("center"),n=t.get("radius");be(n)||(n=[0,n]);var l=E(r.width,a.getWidth()),i=E(r.height,a.getHeight()),s=Math.min(l,i),g=E(n[0],s/2),f=E(n[1],s/2),v,h,p=t.coordinateSystem;if(p){var u=p.dataToPoint(e);v=u[0]||0,h=u[1]||0}else be(e)||(e=[e,e]),v=E(e[0],l)+r.x,h=E(e[1],i)+r.y;return{cx:v,cy:h,r0:g,r:f}}function zt(t,a,r){a.eachSeriesByType(t,function(e){var n=e.getData(),l=n.mapDimension("value"),i=qe(e,r),s=Xe(e,r),g=s.cx,f=s.cy,v=s.r,h=s.r0,p=-e.get("startAngle")*Ge,u=e.get("minAngle")*Ge,c=0;n.each(l,function(T){!isNaN(T)&&c++});var d=n.getSum(l),o=Math.PI/(d||c)*2,m=e.get("clockwise"),y=e.get("roseType"),S=e.get("stillShowZeroSum"),P=n.getDataExtent(l);P[0]=0;var x=se,M=0,D=p,b=m?1:-1;if(n.setLayout({viewRect:i,r:v}),n.each(l,function(T,O){var L;if(isNaN(T)){n.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:g,cy:f,r0:h,r:y?NaN:v});return}y!=="area"?L=d===0&&S?o:T*o:L=se/c,L<u?(L=u,x-=u):M+=T;var _=D+b*L;n.setItemLayout(O,{angle:L,startAngle:D,endAngle:_,clockwise:m,cx:g,cy:f,r0:h,r:y?Qe(T,P,[h,v]):v}),D=_}),x<se&&c)if(x<=.001){var A=se/c;n.each(l,function(T,O){if(!isNaN(T)){var L=n.getItemLayout(O);L.angle=A,L.startAngle=p+b*O*A,L.endAngle=p+b*(O+1)*A}})}else o=x/M,D=p,n.each(l,function(T,O){if(!isNaN(T)){var L=n.getItemLayout(O),_=L.angle===u?u:T*o;L.startAngle=D,L.endAngle=D+b*_,D+=b*_}})})}function Yt(t){return{seriesType:t,reset:function(a,r){var e=r.findComponents({mainType:"legend"});if(!(!e||!e.length)){var n=a.getData();n.filterSelf(function(l){for(var i=n.getName(l),s=0;s<e.length;s++)if(!e[s].isSelected(i))return!1;return!0})}}}}var qt=Math.PI/180;function Be(t,a,r,e,n,l,i,s,g,f){if(t.length<2)return;function v(d){for(var o=d.rB,m=o*o,y=0;y<d.list.length;y++){var S=d.list[y],P=Math.abs(S.label.y-r),x=e+S.len,M=x*x,D=Math.sqrt((1-Math.abs(P*P/m))*M),b=a+(D+S.len2)*n,A=b-S.label.x,T=S.targetTextWidth-A*n;Fe(S,T,!0),S.label.x=b}}function h(d){for(var o={list:[],maxY:0},m={list:[],maxY:0},y=0;y<d.length;y++)if(d[y].labelAlignTo==="none"){var S=d[y],P=S.label.y>r?m:o,x=Math.abs(S.label.y-r);if(x>=P.maxY){var M=S.label.x-a-S.len2*n,D=e+S.len,b=Math.abs(M)<D?Math.sqrt(x*x/(1-M*M/D/D)):D;P.rB=b,P.maxY=x}P.list.push(S)}v(o),v(m)}for(var p=t.length,u=0;u<p;u++)if(t[u].position==="outer"&&t[u].labelAlignTo==="labelLine"){var c=t[u].label.x-f;t[u].linePoints[1][0]+=c,t[u].label.x=f}Lt(t,g,g+i)&&h(t)}function Xt(t,a,r,e,n,l,i,s){for(var g=[],f=[],v=Number.MAX_VALUE,h=-Number.MAX_VALUE,p=0;p<t.length;p++){var u=t[p].label;ye(t[p])||(u.x<a?(v=Math.min(v,u.x),g.push(t[p])):(h=Math.max(h,u.x),f.push(t[p])))}for(var p=0;p<t.length;p++){var c=t[p];if(!ye(c)&&c.linePoints){if(c.labelStyleWidth!=null)continue;var u=c.label,d=c.linePoints,o=void 0;c.labelAlignTo==="edge"?u.x<a?o=d[2][0]-c.labelDistance-i-c.edgeDistance:o=i+n-c.edgeDistance-d[2][0]-c.labelDistance:c.labelAlignTo==="labelLine"?u.x<a?o=v-i-c.bleedMargin:o=i+n-h-c.bleedMargin:u.x<a?o=u.x-i-c.bleedMargin:o=i+n-u.x-c.bleedMargin,c.targetTextWidth=o,Fe(c,o)}}Be(f,a,r,e,1,n,l,i,s,h),Be(g,a,r,e,-1,n,l,i,s,v);for(var p=0;p<t.length;p++){var c=t[p];if(!ye(c)&&c.linePoints){var u=c.label,d=c.linePoints,m=c.labelAlignTo==="edge",y=u.style.padding,S=y?y[1]+y[3]:0,P=u.style.backgroundColor?0:S,x=c.rect.width+P,M=d[1][0]-d[2][0];m?u.x<a?d[2][0]=i+c.edgeDistance+x+c.labelDistance:d[2][0]=i+n-c.edgeDistance-x-c.labelDistance:(u.x<a?d[2][0]=u.x+c.labelDistance:d[2][0]=u.x-c.labelDistance,d[1][0]=d[2][0]+M),d[1][1]=d[2][1]=u.y}}}function Fe(t,a,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var e=t.label,n=e.style,l=t.rect,i=n.backgroundColor,s=n.padding,g=s?s[1]+s[3]:0,f=n.overflow,v=l.width+(i?0:g);if(a<v||r){var h=l.height;if(f&&f.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",a-g);var p=e.getBoundingRect();e.setStyle("width",Math.ceil(p.width)),e.setStyle("backgroundColor",i)}else{var u=a-g,c=a<v?u:r?u>t.unconstrainedWidth?null:u:null;e.setStyle("width",c)}var d=e.getBoundingRect();l.width=d.width;var o=(e.style.margin||0)+2.1;l.height=d.height+o,l.y-=(l.height-h)/2}}}function ye(t){return t.position==="center"}function Ft(t){var a=t.getData(),r=[],e,n,l=!1,i=(t.get("minShowLabelAngle")||0)*qt,s=a.getLayout("viewRect"),g=a.getLayout("r"),f=s.width,v=s.x,h=s.y,p=s.height;function u(M){M.ignore=!0}function c(M){if(!M.ignore)return!0;for(var D in M.states)if(M.states[D].ignore===!1)return!0;return!1}a.each(function(M){var D=a.getItemGraphicEl(M),b=D.shape,A=D.getTextContent(),T=D.getTextGuideLine(),O=a.getItemModel(M),L=O.getModel("label"),_=L.get("position")||O.get(["emphasis","label","position"]),ue=L.get("distanceToLabelLine"),ce=L.get("alignTo"),ge=E(L.get("edgeDistance"),f),He=L.get("bleedMargin"),Q=O.getModel("labelLine"),X=Q.get("length");X=E(X,f);var ee=Q.get("length2");if(ee=E(ee,f),Math.abs(b.endAngle-b.startAngle)<i){ne(A.states,u),A.ignore=!0,T&&(ne(T.states,u),T.ignore=!0);return}if(c(A)){var te=(b.startAngle+b.endAngle)/2,V=Math.cos(te),B=Math.sin(te),F,ae,Ae,re;e=b.cx,n=b.cy;var j=_==="inside"||_==="inner";if(_==="center")F=b.cx,ae=b.cy,re="center";else{var fe=(j?(b.r+b.r0)/2*V:b.r*V)+e,he=(j?(b.r+b.r0)/2*B:b.r*B)+n;if(F=fe+V*3,ae=he+B*3,!j){var we=fe+V*(X+g-b.r),De=he+B*(X+g-b.r),Le=we+(V<0?-1:1)*ee,Me=De;ce==="edge"?F=V<0?v+ge:v+f-ge:F=Le+(V<0?-ue:ue),ae=Me,Ae=[[fe,he],[we,De],[Le,Me]]}re=j?"center":ce==="edge"?V>0?"right":"left":V>0?"left":"right"}var H=Math.PI,z=0,Z=L.get("rotate");if(Ue(Z))z=Z*(H/180);else if(_==="center")z=0;else if(Z==="radial"||Z===!0){var Ze=V<0?-te+H:-te;z=Ze}else if(Z==="tangential"&&_!=="outside"&&_!=="outer"){var Y=Math.atan2(V,B);Y<0&&(Y=H*2+Y);var Je=B>0;Je&&(Y=H+Y),z=Y-H}if(l=!!z,A.x=F,A.y=ae,A.rotation=z,A.setStyle({verticalAlign:"middle"}),j){A.setStyle({align:re});var de=A.states.select;de&&(de.x+=A.x,de.y+=A.y)}else{var J=A.getBoundingRect().clone();J.applyTransform(A.getComputedTransform());var Te=(A.style.margin||0)+2.1;J.y-=Te/2,J.height+=Te,r.push({label:A,labelLine:T,position:_,len:X,len2:ee,minTurnAngle:Q.get("minTurnAngle"),maxSurfaceAngle:Q.get("maxSurfaceAngle"),surfaceNormal:new I(V,B),linePoints:Ae,textAlign:re,labelDistance:ue,labelAlignTo:ce,edgeDistance:ge,bleedMargin:He,rect:J,unconstrainedWidth:J.width,labelStyleWidth:A.style.width})}D.setTextConfig({inside:j})}}),!l&&t.get("avoidLabelOverlap")&&Xt(r,e,n,g,f,p,v,h);for(var d=0;d<r.length;d++){var o=r[d],m=o.label,y=o.labelLine,S=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:o.textAlign}),S&&(ne(m.states,u),m.ignore=!0);var P=m.states.select;P&&(P.x+=m.x,P.y+=m.y)}if(y){var x=o.linePoints;S||!x?(ne(y.states,u),y.ignore=!0):(Gt(x,o.minTurnAngle),Bt(x,o.surfaceNormal,o.maxSurfaceAngle),y.setShape({points:x}),m.__hostTarget.textGuideLineConfig={anchor:new I(x[0][0],x[0][1])})}}}var Ht=function(t){Se(a,t);function a(r,e,n){var l=t.call(this)||this;l.z2=2;var i=new tt;return l.setTextContent(i),l.updateData(r,e,n,!0),l}return a.prototype.updateData=function(r,e,n,l){var i=this,s=r.hostModel,g=r.getItemModel(e),f=g.getModel("emphasis"),v=r.getItemLayout(e),h=U(le(g.getModel("itemStyle"),v,!0),v);if(isNaN(h.startAngle)){i.setShape(h);return}if(l){i.setShape(h);var p=s.getShallow("animationType");s.ecModel.ssr?(me(i,{scaleX:0,scaleY:0},s,{dataIndex:e,isFrom:!0}),i.originX=h.cx,i.originY=h.cy):p==="scale"?(i.shape.r=v.r0,me(i,{shape:{r:v.r}},s,e)):n!=null?(i.setShape({startAngle:n,endAngle:n}),me(i,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},s,e)):(i.shape.endAngle=v.startAngle,_e(i,{shape:{endAngle:v.endAngle}},s,e))}else at(i),_e(i,{shape:h},s,e);i.useStyle(r.getItemVisual(e,"style")),rt(i,g);var u=(v.startAngle+v.endAngle)/2,c=s.get("selectedOffset"),d=Math.cos(u)*c,o=Math.sin(u)*c,m=g.getShallow("cursor");m&&i.attr("cursor",m),this._updateLabel(s,r,e),i.ensureState("emphasis").shape=U({r:v.r+(f.get("scale")&&f.get("scaleSize")||0)},le(f.getModel("itemStyle"),v)),U(i.ensureState("select"),{x:d,y:o,shape:le(g.getModel(["select","itemStyle"]),v)}),U(i.ensureState("blur"),{shape:le(g.getModel(["blur","itemStyle"]),v)});var y=i.getTextGuideLine(),S=i.getTextContent();y&&U(y.ensureState("select"),{x:d,y:o}),U(S.ensureState("select"),{x:d,y:o}),nt(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},a.prototype._updateLabel=function(r,e,n){var l=this,i=e.getItemModel(n),s=i.getModel("labelLine"),g=e.getItemVisual(n,"style"),f=g&&g.fill,v=g&&g.opacity;it(l,lt(i),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:f,defaultOpacity:v,defaultText:r.getFormattedLabel(n,"normal")||e.getName(n)});var h=l.getTextContent();l.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var p=r.get(["label","position"]);if(p!=="outside"&&p!=="outer")l.removeTextGuideLine();else{var u=this.getTextGuideLine();u||(u=new $e,this.setTextGuideLine(u)),Ut(this,jt(i),{stroke:f,opacity:st(s.get(["lineStyle","opacity"]),v,1)})}},a}(je),Zt=function(t){Se(a,t);function a(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return a.prototype.render=function(r,e,n,l){var i=r.getData(),s=this._data,g=this.group,f;if(!s&&i.count()>0){for(var v=i.getItemLayout(0),h=1;isNaN(v&&v.startAngle)&&h<i.count();++h)v=i.getItemLayout(h);v&&(f=v.startAngle)}if(this._emptyCircleSector&&g.remove(this._emptyCircleSector),i.count()===0&&r.get("showEmptyCircle")){var p=new je({shape:Xe(r,n)});p.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,g.add(p)}i.diff(s).add(function(u){var c=new Ht(i,u,f);i.setItemGraphicEl(u,c),g.add(c)}).update(function(u,c){var d=s.getItemGraphicEl(c);d.updateData(i,u,f),d.off("click"),g.add(d),i.setItemGraphicEl(u,d)}).remove(function(u){var c=s.getItemGraphicEl(u);ot(c,r,u)}).execute(),Ft(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=i)},a.prototype.dispose=function(){},a.prototype.containPoint=function(r,e){var n=e.getData(),l=n.getItemLayout(0);if(l){var i=r[0]-l.cx,s=r[1]-l.cy,g=Math.sqrt(i*i+s*s);return g<=l.r&&g>=l.r0}},a.type="pie",a}(vt);const Jt=Zt;function Wt(t,a,r){a=be(a)&&{coordDimensions:a}||U({encodeDefine:t.getEncode()},a);var e=t.getSource(),n=Mt(e,a).dimensions,l=new Tt(n,t);return l.initData(e,r),l}var Kt=function(){function t(a,r){this._getDataWithEncodedVisual=a,this._getRawData=r}return t.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},t.prototype.containName=function(a){var r=this._getRawData();return r.indexOfName(a)>=0},t.prototype.indexOfName=function(a){var r=this._getDataWithEncodedVisual();return r.indexOfName(a)},t.prototype.getItemVisual=function(a,r){var e=this._getDataWithEncodedVisual();return e.getItemVisual(a,r)},t}();const Qt=Kt;var ea=ht(),ta=function(t){Se(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return a.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qt(Oe(this.getData,this),Oe(this.getRawData,this)),this._defaultLabelLine(r)},a.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},a.prototype.getInitialData=function(){return Wt(this,{coordDimensions:["value"],encodeDefaulter:ze(ut,this)})},a.prototype.getDataParams=function(r){var e=this.getData(),n=ea(e),l=n.seats;if(!l){var i=[];e.each(e.mapDimension("value"),function(g){i.push(g)}),l=n.seats=ct(i,e.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,r);return s.percent=l[r]||0,s.$vars.push("percent"),s},a.prototype._defaultLabelLine=function(r){gt(r,"labelLine",["show"]);var e=r.labelLine,n=r.emphasis.labelLine;e.show=e.show&&r.label.show,n.show=n.show&&r.emphasis.label.show},a.type="series.pie",a.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},a}(ft);const aa=ta;function ra(t){return{seriesType:t,reset:function(a,r){var e=a.getData();e.filterSelf(function(n){var l=e.mapDimension("value"),i=e.get(l,n);return!(Ue(i)&&!isNaN(i)&&i<0)})}}}function na(t){t.registerChartView(Jt),t.registerSeriesModel(aa),dt("pie",t.registerAction),t.registerLayout(ze(zt,"pie")),t.registerProcessor(Yt("pie")),t.registerProcessor(ra("pie"))}const xe=t=>(bt("data-v-7409bb4f"),t=t(),St(),t),ia={class:"w-full h-full flex flex-col"},la=xe(()=>ve("h2",{class:"text-2xl font-bold"},"技能需求",-1)),sa=xe(()=>ve("span",{class:"text-lg"},"筛选",-1)),oa={class:"flex"},va=xe(()=>ve("h2",{class:"text-2xl font-bold"},"技能需求",-1)),ua=pt({__name:"skill-require-view",setup(t){Ct([Nt,_t,Ot,na,Vt,kt,Et]);const a=$([]),r=$([]),e=$(),n=$(),l=$("全国"),i=$(),s=$(),g=async()=>{n.value!==void 0&&e.value!==void 0&&(i.value=await Ee({tech:e.value,city:n.value}))},f=async()=>{e.value!==void 0&&(l.value==="全国"?s.value=await Rt({tech:e.value}):s.value=await Ee({tech:e.value,city:l.value}))};Ve([e,n],()=>g()),Ve([e,l],()=>f());const v=q(()=>r.value.map(o=>({label:o,value:o}))),h=q(()=>a.value.map(o=>({label:o,value:o}))),p=q(()=>["全国"].concat(r.value.filter(o=>o!==n.value)).map(o=>({label:o,value:o}))),u=q(()=>{let o=[];if(i.value!==void 0)for(const[m,y]of Object.entries(i.value.techRate))o.push({name:m,rate:y});return o.sort((m,y)=>m.rate-y.rate)}),c=q(()=>{let o=[];if(s.value!==void 0)for(const[m,y]of Object.entries(s.value.techRate))o.push({name:m,rate:y});return o.sort((m,y)=>m.rate-y.rate)}),d=q(()=>({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},yAxis:[{gridIndex:0,type:"value",inverse:!0,name:`${l.value} ${e.value}岗位技能需求`},{gridIndex:1,type:"value",name:`${n.value} ${e.value}岗位技能需求`}],xAxis:[{gridIndex:0,type:"category",show:!1,data:c.value.map(o=>o.name)},{gridIndex:1,type:"category",show:!1,data:u.value.map(o=>o.name)}],grid:[{top:"50%"},{bottom:"50%"}],series:[{type:"bar",data:c.value.map(({name:o,rate:m})=>({name:o,value:m,label:{show:!0,color:"inherit",formatter:y=>o,position:"bottom"}}))},{type:"bar",data:u.value.map(({name:o,rate:m})=>({name:o,value:m,label:{show:!0,color:"inherit",formatter:y=>o,position:"top"}})),yAxisIndex:1,xAxisIndex:1}]}));return mt(()=>{It().then(o=>r.value=o),Pt().then(o=>a.value=o)}),(o,m)=>(xt(),yt("div",ia,[la,sa,ve("div",oa,[W(K(ie.NSelect),{value:e.value,"onUpdate:value":m[0]||(m[0]=y=>e.value=y),options:h.value,class:"inline w-24 p-2",placeholder:"职位"},null,8,["value","options"]),W(K(ie.NSelect),{value:n.value,"onUpdate:value":m[1]||(m[1]=y=>n.value=y),options:v.value,class:"inline w-24 p-2",placeholder:"城市"},null,8,["value","options"])]),va,W(K(ie.NTooltip),null,{trigger:ke(()=>[W(K(ie.NSelect),{options:p.value,value:l.value,"onUpdate:value":m[2]||(m[2]=y=>l.value=y),class:"inline p-2 w-24",placeholder:"比较"},null,8,["options","value"])]),default:ke(()=>[At(" 比较 ")]),_:1}),W(K(wt),{id:"cmp",option:d.value,autoresize:""},null,8,["option"])]))}});const fa=Dt(ua,[["__scopeId","data-v-7409bb4f"]]);export{fa as default};
