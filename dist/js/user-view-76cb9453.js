import{r as _,a as o,l as u,ac as V,ad as R,d as S,X as I,o as p,Y as k,c as m,a9 as E,u as a,ae as y,J as O,af as P,_ as b,ag as j,w as n,ab as x,a1 as w,b as N,ah as B,T as D,ai as $,aj as M,aa as z,ak as A,al as K,am as U,an as W}from"./index-655e7691.js";import{T as H}from"./index-5e36c2f2.js";import{N as J}from"./Input-ac72a3d6.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";const T=640,g=_(window.innerWidth<=T);window.addEventListener("resize",()=>{g.value=window.innerWidth<=T});function h(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!V(e)}const C=e=>()=>o(u.NIcon,null,h(e)?e:{default:()=>[e]}),ie=(e,i)=>()=>o(R,{to:e},h(i)?i:{default:()=>[i]}),Y={key:1},q=S({__name:"show-or-edit",props:{clearable:{type:Boolean,default:!1},placeholder:{default:void 0},value:{}},emits:["update:value"],setup(e,{emit:i}){const l=e,r=_(),v=I(),c=_(!1),s=async()=>{c.value=!1,i("update:value",r.value)};return(f,t)=>(p(),k("div",{onClick:t[2]||(t[2]=()=>{c.value=!0,r.value=f.value,O(()=>{var d;return(d=v.value)==null?void 0:d.focus()})})},[c.value?(p(),m(a(J),{key:0,ref_key:"inputRef",ref:v,value:r.value,"onUpdate:value":t[0]||(t[0]=d=>r.value=d),clearable:l.clearable,onKeyup:t[1]||(t[1]=E(()=>{var d;return(d=v.value)==null?void 0:d.blur()},["enter"])),onBlur:s,placeholder:l.placeholder},null,8,["value","clearable","placeholder"])):(p(),k("span",Y,y(f.value===void 0||f.value.length===0?"null":f.value),1))]))}}),F=(e,i)=>new Promise(l=>{window.$dialog.warning({title:e,content:i,positiveText:"确定",negativeText:"取消",closeOnEsc:!0,onPositiveClick:()=>l(!0),onNegativeClick:()=>l(!1),onMaskClick:()=>l(!1),onClose:()=>l(!1)})}),L=e=>(K("data-v-261284a5"),e=e(),U(),e),G=L(()=>w("span",{class:"icon-[mingcute--menu-line]"},null,-1)),Q=L(()=>w("span",{class:"flex-grow"},null,-1)),Z={class:"flex items-center"},ee=[{label:"个人信息",key:"profile",icon:C(o("span",{class:"icon-[iconamoon--profile]"},null))},{label:"退出登录",key:"logout",icon:C(o("span",{class:"icon-[material-symbols--exit-to-app-rounded]"},null))}],ae=S({__name:"user-view",setup(e){const i=M(()=>W(()=>import("./side-menu-a2a03bda.js"),["js/side-menu-a2a03bda.js","js/index-655e7691.js","css/index-ad8f30aa.css","js/index-5e36c2f2.js","js/Input-ac72a3d6.js","js/Suffix-f2d73d51.js","js/_plugin-vue_export-helper-c27b6911.js"])),{username:l}=P(b()),r=_(!0),v=async c=>{switch(c){case"profile":A();break;case"logout":await F("注销","确定要注销吗?")&&(b().logout(),z());break}};return(c,s)=>{const f=j("RouterView");return p(),m(a(u.NLayout),{class:"w-full h-full flex","has-sider":""},{default:n(()=>[a(g)?x("",!0):(p(),m(a(u.NLayoutSider),{key:0,id:"menu","collapse-mode":"width","collapsed-width":64,width:180,collapsed:r.value,onCollapse:s[1]||(s[1]=()=>r.value=!0),onExpand:s[2]||(s[2]=()=>r.value=!1)},{default:n(()=>[o(a(i),{onToggle:s[0]||(s[0]=t=>r.value=t)})]),_:1},8,["collapsed"])),o(a(u.NLayout),{class:"grow","content-style":"display: flex; flex-direction: column;"},{default:n(()=>[o(a(u.NLayoutHeader),{class:"flex p-2 sm:p-4 sm:h-12 items-center",bordered:""},{default:n(()=>[a(g)?(p(),m(a(u.NPopover),{key:0,trigger:"click",class:"mr-4"},{trigger:n(()=>[G]),default:n(()=>[o(a(i),{collapsed:!1})]),_:1})):x("",!0),w("span",{class:"ml-2 sm:ml-0",onClick:s[3]||(s[3]=t=>c.$router.push({name:"welcome"}))},y(a(H)),1),Q,o(a(u.NDropdown),{options:ee,trigger:"click",onSelect:v},{default:n(()=>[o(a(u.NAvatar),{size:"small",class:"mr-2",round:""},{default:n(()=>[N(y(a(l).slice(0,1)),1)]),_:1})]),_:1}),w("span",Z,[N(" 你好, "),o(q,{value:a(l),"onUpdate:value":s[4]||(s[4]=t=>B(l)?l.value=t:null)},null,8,["value"])])]),_:1}),o(a(u.NLayoutContent),{class:"grow flex flex-col","content-style":"display: flex; flex-direction: column; flex-grow: 1;"},{default:n(()=>[o(f,null,{default:n(({Component:t})=>[o(D,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0","enter-active-class":"transition-opacity duration-300 ease-in-out","leave-active-class":"transition-opacity duration-300 ease-in-out"},{default:n(()=>[(p(),m($(t)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}});const oe=X(ae,[["__scopeId","data-v-261284a5"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{ie as a,F as c,g as i,C as r,re as u};
