import{r as _,a,l as r,a6 as R,a7 as I,d as h,X as T,o as f,Y as b,c as m,a3 as E,u as o,a8 as y,J as B,a9 as O,_ as k,aa as j,w as n,a5 as N,a1 as w,b as x,ab as D,ac as P,a4 as $,ad as z,ae as A,af as M,ag as K}from"./index-a8223b55.js";import{T as U}from"./index-5e36c2f2.js";import{N as W}from"./Input-1e2a0158.js";import{c as H}from"./confirm-61b5b0fd.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";const L=640,g=_(window.innerWidth<=L);window.addEventListener("resize",()=>{g.value=window.innerWidth<=L});function V(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!R(e)}const S=e=>()=>a(r.NIcon,null,V(e)?e:{default:()=>[e]}),ne=(e,u)=>()=>a(I,{to:e},V(u)?u:{default:()=>[u]}),X={key:1},Y=h({__name:"show-or-edit",props:{clearable:{type:Boolean,default:!1},placeholder:{default:void 0},value:{}},emits:["update:value"],setup(e,{emit:u}){const i=e,s=_(),v=T(),c=_(!1),l=async()=>{c.value=!1,u("update:value",s.value)};return(p,t)=>(f(),b("div",{onClick:t[2]||(t[2]=()=>{c.value=!0,s.value=p.value,B(()=>{var d;return(d=v.value)==null?void 0:d.focus()})})},[c.value?(f(),m(o(W),{key:0,ref_key:"inputRef",ref:v,value:s.value,"onUpdate:value":t[0]||(t[0]=d=>s.value=d),clearable:i.clearable,onKeyup:t[1]||(t[1]=E(()=>{var d;return(d=v.value)==null?void 0:d.blur()},["enter"])),onBlur:l,placeholder:i.placeholder},null,8,["value","clearable","placeholder"])):(f(),b("span",X,y(p.value===void 0||p.value.length===0?"null":p.value),1))]))}}),C=e=>(A("data-v-c90f4845"),e=e(),M(),e),q=C(()=>w("span",{class:"icon-[mingcute--menu-line]"},null,-1)),F=C(()=>w("span",{class:"flex-grow"},null,-1)),G={class:"flex items-center"},Q=[{label:"个人信息",key:"profile",icon:S(a("span",{class:"icon-[carbon--user-avatar]"},null))},{label:"退出登录",key:"logout",icon:S(a("span",{class:"icon-[carbon--logout]"},null))}],Z=h({__name:"user-view",setup(e){const u=P(()=>K(()=>import("./side-menu-6a3026a0.js"),["js/side-menu-6a3026a0.js","js/index-a8223b55.js","css/index-e8500997.css","js/confirm-61b5b0fd.js","js/index-5e36c2f2.js","js/Input-1e2a0158.js","js/Suffix-d7374114.js","js/_plugin-vue_export-helper-c27b6911.js"])),{username:i}=O(k()),s=_(!0),v=async c=>{switch(c){case"profile":z();break;case"logout":await H("注销","确定要注销吗?")&&(k().logout(),$());break}};return(c,l)=>{const p=j("RouterView");return f(),m(o(r.NLayout),{class:"w-full h-full flex","has-sider":""},{default:n(()=>[o(g)?N("",!0):(f(),m(o(r.NLayoutSider),{key:0,id:"menu","collapse-mode":"width","collapsed-width":64,width:180,collapsed:s.value,onCollapse:l[1]||(l[1]=()=>s.value=!0),onExpand:l[2]||(l[2]=()=>s.value=!1)},{default:n(()=>[a(o(u),{onToggle:l[0]||(l[0]=t=>s.value=t)})]),_:1},8,["collapsed"])),a(o(r.NLayout),{class:"grow","content-style":"display: flex; flex-direction: column;"},{default:n(()=>[a(o(r.NLayoutHeader),{class:"flex p-2 sm:p-4 sm:h-12 items-center",bordered:""},{default:n(()=>[o(g)?(f(),m(o(r.NPopover),{key:0,trigger:"click",class:"mr-4"},{trigger:n(()=>[q]),default:n(()=>[a(o(u),{collapsed:!1})]),_:1})):N("",!0),w("span",{class:"ml-2 sm:ml-0",onClick:l[3]||(l[3]=t=>c.$router.push({name:"welcome"}))},y(o(U)),1),F,a(o(r.NDropdown),{options:Q,trigger:"click",onSelect:v},{default:n(()=>[a(o(r.NAvatar),{size:"small",class:"mr-2",round:""},{default:n(()=>[x(y(o(i).slice(0,1)),1)]),_:1})]),_:1}),w("span",G,[x(" 你好，"),a(Y,{value:o(i),"onUpdate:value":l[4]||(l[4]=t=>D(i)?i.value=t:null)},null,8,["value"])])]),_:1}),a(o(r.NLayoutContent),{class:"grow flex flex-col","content-style":"display: flex; flex-direction: column; flex-grow: 1;"},{default:n(()=>[a(p)]),_:1})]),_:1})]),_:1})}}});const ee=J(Z,[["__scopeId","data-v-c90f4845"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ne as a,g as i,S as r,re as u};
